{% extends 'base.html' %}
{% load static %}

{% block title %}Galeria de Eventos - NEABI{% endblock %}

{% block content %}

<div class="px-4 sm:px-6 lg:px-8 my-12">
    
    <h1 class="text-4xl font-bold text-center text-gray-900 mb-12">
        Galeria de Eventos
    </h1>

    {% if events %}
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">

            {% for event in events %}
            <div class="bg-gray-50 rounded-xl shadow-lg overflow-hidden">

                <!-- CAPA DO EVENTO -->
                {% if event.image %}
                    <img src="{{ event.image.url }}" class="w-full h-56 object-cover" alt="Imagem do evento">
                {% else %}
                    <div class="w-full h-56 bg-gray-300 flex items-center justify-center">
                        <p class="text-gray-600">Sem imagem de capa</p>
                    </div>
                {% endif %}

                <!-- CONTEÚDO -->
                <div class="p-5">
                    <h2 class="text-xl font-bold text-gray-800">{{ event.title }}</h2>

                    <p class="text-gray-600 text-sm mt-1">
                        {{ event.date|date:"d/m/Y" }} — {{ event.location }}
                    </p>

                    <a href="{% url 'galeria_evento' event.id %}"
                        class="mt-4 inline-block w-full bg-green-700 text-white font-semibold px-4 py-2 rounded-lg hover:bg-green-800 text-center">
                        Ver Fotos
                    </a>
                </div>

            </div>
            {% endfor %}

        </div>

    {% else %}
        <p class="text-center text-gray-600 text-lg">
            Nenhum evento com imagens encontrado.
        </p>
    {% endif %}

</div>

{% endblock %}
